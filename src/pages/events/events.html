
<ion-header>

  <ion-navbar>
    <ion-segment [(ngModel)]="category" (ionChange)="updateEventList()">
      <ion-segment-button value="upcoming">
        Upcoming
      </ion-segment-button>
      <ion-segment-button value="attending">
        Attending
      </ion-segment-button>
      <ion-segment-button value="past">
        Past
      </ion-segment-button>
    </ion-segment>
  </ion-navbar>
</ion-header>
<ion-content class="list-avatar-page">
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles">
    </ion-refresher-content>
  </ion-refresher>

  <ion-list #eventList [hidden]="eventCollection && eventCollection.length === 0 || dataLoading"
   *ngFor="let eventGroup of eventCollection">
      <ion-item-divider sticky>
        <ion-label>
          {{eventGroup.header}}
        </ion-label>
      </ion-item-divider>
      <h6 class="no-content-text" [hidden]="eventGroup.events.length > 0">No Events</h6>
      <ion-list *ngFor="let event of eventGroup.events" inset>
        <ion-item (click)="goToEventDetail(event)" [attr.read]="event.read" [attr.category]="event.category | lowercase">
          <ion-avatar item-left>
            <i class="fa" ngClass="{{event.font}}" aria-hidden="true"></i>
          </ion-avatar>
          <h2>{{event.title}}</h2>
          <p>{{event.startTime}} - {{event.endTime}}
          </p>
          <ion-note item-right>{{event.location}}</ion-note>
        </ion-item>
      </ion-list>
  </ion-list>

  <ion-list-header [hidden]="eventCollection && eventCollection.length > 0 || dataLoading">
    No events available
  </ion-list-header>
</ion-content>